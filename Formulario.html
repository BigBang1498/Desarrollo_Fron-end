<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <title>Formulario con Catálogo Dinámico</title>
  <style>
    /* Reset ligero */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', Tahoma, sans-serif;
      background: #f5f7fa;
      display: flex;
      justify-content: center;
      padding: 20px;
    }

    /* Tarjeta del formulario */
    .card {
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      max-width: 600px;
      width: 100%;
      padding: 30px;
    }

    .card h1 {
      font-size: 1.6rem;
      margin-bottom: 20px;
      color: #333;
      text-align: center;
    }

    /* Grupos de campo */
    .form-group {
      margin-bottom: 16px;
    }

    .form-group label {
      display: block;
      margin-bottom: 6px;
      font-weight: 600;
      color: #555;
      transition: color 0.2s;
    }

    .form-group input[type="text"],
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 1rem;
      transition: border-color 0.2s;
    }

    .form-group textarea {
      resize: vertical;
      min-height: 80px;
    }

    /* Validación */
    .valid {
      border-color: #28a745 !important;
    }

    .valid+label,
    label.valid {
      color: #28a745 !important;
    }

    .invalid {
      border-color: #dc3545 !important;
    }

    .invalid+label,
    label.invalid {
      color: #dc3545 !important;
    }

    /* Grupo de checkboxes */
    .checkbox-group {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
    }

    .checkbox-group input {
      margin-right: 6px;
    }

    /* Botón */
    .btn {
      display: block;
      width: 100%;
      padding: 12px;
      background: #007bff;
      color: #fff;
      font-size: 1.05rem;
      font-weight: 600;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .btn:hover {
      background: #0056b3;
    }

    /* Catálogo */
    #catalogo {
      margin-top: 30px;
    }

    #catalogo h2 {
      margin-bottom: 12px;
      color: #333;
      font-size: 1.3rem;
      text-align: center;
    }

    .registro {
      background: #fff;
      border: 1px solid #e1e4e8;
      border-radius: 6px;
      padding: 16px;
      margin-bottom: 12px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.03);
    }

    .registro h4 {
      margin-bottom: 8px;
      font-size: 1.1rem;
      color: #222;
    }

    .registro p {
      margin: 4px 0;
      font-size: 0.95rem;
      color: #444;
    }

    .registro strong {
      display: inline-block;
      width: 90px;
      color: #555;
    }
  </style>
</head>

<body>

  <div class="card">
    <h1>Registro de Aprendizaje de Idiomas</h1>
    <form id="miFormulario" action="#" method="get" onsubmit="return false;">
      <div class="form-group">
        <label id="labelUsuario" for="Usuario">Usuario</label>
        <input type="text" id="Usuario" name="Usuario" placeholder="Usuario" />

      </div>

      <div class="form-group">
        <label id="labelEmail" for="Email">Email</label>
        <input type="text" id="Email" name="Email" placeholder="Correo electrónico" />
      </div>

      <div class="form-group">
        <label id="labelTelefono" for="Telefono">Teléfono</label>
        <input type="text" id="Telefono" name="Telefono" placeholder="Teléfono" />

      </div>

      <div class="form-group">
        <label id="labelComentario" for="Comentario">Descríbete</label>
        <textarea id="Comentario" name="Comentario" placeholder="Descríbete..."></textarea>
      </div>

      <div class="form-group">
        <label id="labelIdiomas" for="Idiomas">Idioma</label>
        <select id="Idiomas" name="Idiomas">
          <option value="">-- Elige un idioma --</option>
          <option value="Inglés">Inglés</option>
          <option value="Español">Español</option>
          <option value="Francés">Francés</option>
          <option value="Italiano">Italiano</option>
          <option value="Portugués">Portugués</option>
        </select>

      </div>

      <div class="form-group">
        <label id="labelMotivacion">Motivación para aprender:</label>
        <div class="checkbox-group">
          <div><label for="option1">Nuevas culturas</label><input type="checkbox" id="option1" name="motivacion"
              value="culturas"></div>
          <div><label for="option2">Oportunidades profesionales</label><input type="checkbox" id="option2"
              name="motivacion" value="oportunidades"></div>
          <div><label for="option3">Pasatiempo</label><input type="checkbox" id="option3" name="motivacion"
              value="pasatiempo"></div>
          <div><label for="option4">Habilidades académicas</label><input type="checkbox" id="option4" name="motivacion"
              value="academicas"></div>
          <div><label for="option5">Aprobar mi clase</label><input type="checkbox" id="option5" name="motivacion"
              value="aprobar"></div>
        </div>
      </div>

      <button type="button" class="btn" onclick="validar()">Enviar</button>
    </form>

    <section id="catalogo">
      <h2>Catálogo de registros</h2>
      <!-- aquí se insertan dinámicamente -->
    </section>
  </div>

  <script>
    function validar() {
      // 1) Limpiar estilos previos
      const camposTexto = ['Usuario', 'Email', 'Telefono'];
      camposTexto.forEach(id => {
        const el = document.getElementById(id);
        el.classList.remove('invalid', 'valid');
        document.getElementById('label' + id).classList.remove('invalid', 'valid');
      });
      const textarea = document.getElementById('Comentario');
      textarea.classList.remove('invalid', 'valid');
      document.getElementById('labelComentario').classList.remove('invalid', 'valid');
      const select = document.getElementById('Idiomas');
      select.classList.remove('invalid', 'valid');
      document.getElementById('labelIdiomas').classList.remove('invalid', 'valid');
      document.getElementById('labelMotivacion').classList.remove('invalid', 'valid');

      let formularioValido = true;

      // 2) Validar textfields (no vacíos)
      camposTexto.forEach(id => {
        const el = document.getElementById(id);
        const label = document.getElementById('label' + id);
        if (!el.value.trim()) {
          el.classList.add('invalid');
          label.classList.add('invalid');
          formularioValido = false;
        } else {
          el.classList.add('valid');
          label.classList.add('valid');
        }
      });

      // 3) Validar textarea (no vacío)
      if (!textarea.value.trim()) {
        textarea.classList.add('invalid');
        document.getElementById('labelComentario').classList.add('invalid');
        formularioValido = false;
      } else {
        textarea.classList.add('valid');
        document.getElementById('labelComentario').classList.add('valid');
      }

      // 4) Validar select (debe elegir una opción)
      if (!select.value) {
        select.classList.add('invalid');
        document.getElementById('labelIdiomas').classList.add('invalid');
        formularioValido = false;
      } else {
        select.classList.add('valid');
        document.getElementById('labelIdiomas').classList.add('valid');
      }

      // 5) Validar checkboxes (al menos uno marcado)
      const checkboxes = document.querySelectorAll('input[name="motivacion"]');
      const alguno = Array.from(checkboxes).some(cb => cb.checked);
      if (!alguno) {
        document.getElementById('labelMotivacion').classList.add('invalid');
        formularioValido = false;
      } else {
        document.getElementById('labelMotivacion').classList.add('valid');
      }

      // 6) Si todo es válido, agregamos el registro; si no, mostramos alerta
      if (formularioValido) {
        agregarRegistro();
        alert('¡Formulario válido! Registro añadido al catálogo.');
      } else {
        alert('Por favor, corrige los campos resaltados.');
      }
    }

    function agregarRegistro() {
      // Recoger datos
      const usuario = document.getElementById('Usuario').value.trim();
      const email = document.getElementById('Email').value.trim();
      const telefono = document.getElementById('Telefono').value.trim();
      const comentario = document.getElementById('Comentario').value.trim();
      const idioma = document.getElementById('Idiomas').value;
      const motivos = Array.from(
        document.querySelectorAll('input[name="motivacion"]:checked')
      ).map(cb => {
        const label = document.querySelector(`label[for="${cb.id}"]`);
        return label ? label.textContent : '';
      });

      // Crear contenedor del registro
      const registro = document.createElement('div');
      registro.classList.add('registro');

      // Título
      const titulo = document.createElement('h4');
      titulo.textContent = `${usuario} — ${idioma}`;
      registro.appendChild(titulo);

      // Campos a mostrar
      const campos = [
        ['Email', email],
        ['Teléfono', telefono],
        ['Comentario', comentario],
        ['Motivación', motivos.join(', ') || '—']
      ];
      campos.forEach(([etiqueta, valor]) => {
        const p = document.createElement('p');
        p.innerHTML = `<strong>${etiqueta}:</strong> ${valor}`;
        registro.appendChild(p);
      });

      // Insertar al final del catálogo
      const catalogo = document.getElementById('catalogo');
      catalogo.appendChild(registro);

      // Limpiar formulario y estilos de validación
      document.getElementById('miFormulario').reset();
      document.querySelectorAll('.valid').forEach(el => el.classList.remove('valid'));
    }
  </script>
</body>

</html>